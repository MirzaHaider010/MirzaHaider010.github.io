(function(){"use strict";var e={6666:function(e,t,n){var o=n(9242),s=(n(2166),n(3396));function r(e,t,n,o,r,a){const c=(0,s.up)("LessonComponent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c)])}var a=n(7139);const c=e=>((0,s.dD)("data-v-28e6206c"),e=e(),(0,s.Cn)(),e),i={class:"d-flex justify-content-center row-padding"},l={key:0,class:"error"},u={class:"d-flex flex-row justify-content-center"},d=["item","index"],p={class:"row"},f={class:"col-md-9 d-flex justify-content-start"},m={class:"lesson-text me-4"},h={class:"col-md-2 d-flex justify-content-end mt-3"},b=["src"],_={class:"d-flex justify-content-center"},v=["onClick"],g={key:0,class:"container m-auto mt-4"},y={class:"form-padding border mt-4"},w={class:"form-group"},O=c((()=>(0,s._)("label",{class:"m-4"}," Order Information",-1))),k={class:"form-group"},x={class:"form-group"},j={class:"form-control m-2 text-start"},C={class:"text-muted"},S=["disabled"];function T(e,t,n,r,c,T){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("input",{type:"text",name:"search-box",placeholder:"Search by location...",onKeyup:t[0]||(t[0]=(...e)=>r.search&&r.search(...e))},null,32),(0,s._)("section",i,[c.error?((0,s.wg)(),(0,s.iD)("p",l,(0,a.zw)(c.error),1)):(0,s.kq)("",!0),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.searchResults,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{item:e,index:t,key:e._id,class:"lesson"},[(0,s._)("div",p,[(0,s._)("div",f,[(0,s._)("ul",m,[(0,s._)("li",null," topic: "+(0,a.zw)(e.topic),1),(0,s._)("li",null," location: "+(0,a.zw)(e.location),1),(0,s._)("li",null," price: "+(0,a.zw)(e.price),1),(0,s._)("li",null," space: "+(0,a.zw)(e.space),1)])]),(0,s._)("div",h,[(0,s._)("img",{src:e.pic,class:"image-size"},null,8,b)])]),(0,s._)("div",_,[(0,s._)("button",{class:"cart-button",onClick:t=>r.updatelesson(e)},"Add to cart",8,v)])],8,d)))),128))])]),r.state.number_of_space>0?((0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",y,[(0,s._)("div",w,[O,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control m-2","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.name=e),placeholder:"Enter Your Name..."},null,512),[[o.nr,r.state.name]])]),(0,s._)("div",k,[(0,s.wy)((0,s._)("input",{type:"number",class:"form-control m-2","onUpdate:modelValue":t[2]||(t[2]=e=>r.state.phone_number=e),placeholder:"Enter Your Phone Number..."},null,512),[[o.nr,r.state.phone_number]])]),(0,s._)("div",x,[(0,s._)("label",j,[(0,s.Uk)("Total Spaces: "),(0,s._)("span",C,(0,a.zw)(this.state.number_of_space),1)])]),(0,s._)("button",{type:"submit",class:"btn btn-lg btn-success mt-3",onClick:t[3]||(t[3]=e=>r.createOrder(r.state.name,r.state.phone_number,r.state.lesson_id,r.state.number_of_space)),disabled:""==r.state.name},"Submit Order",8,S)])])):(0,s.kq)("",!0)])}const N="http://express-env.eba-bitp3hp2.ap-northeast-1.elasticbeanstalk.com/lessons/";class P{static getLessons(){return new Promise((async(e,t)=>{try{const t=await fetch(N),n=t.json();e(n)}catch(n){t(n)}}))}static updateLesson(e){return fetch(`${N}${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:""})})}}var z=P,D=n(4870),L={name:"LessonComponent",data(){return{error:"",text:""}},setup(){const e=(0,D.qj)({searchResults:[],name:"",phone_number:0,lesson_id:"",number_of_space:0});function t(t){let n=t.target.value.trim();fetch("http://express-env.eba-bitp3hp2.ap-northeast-1.elasticbeanstalk.com/search/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:n})}).then((t=>{t.clone().json().then((t=>{e.searchResults=t}))}))}async function n(e){e.space<1?alert("Not enough available space"):(await z.updateLesson(e._id),this.state.number_of_space+=1,this.state.lesson_id=e._id,this.state.searchResults=await z.getLessons(),alert("Data updated"))}function o(e,t,n,o){fetch("http://express-env.eba-bitp3hp2.ap-northeast-1.elasticbeanstalk.com/orders/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,phone_number:t,lesson_id:n,number_of_space:o})}),alert("Order Created"),this.state.number_of_space=0}return{search:t,state:e,updatelesson:n,createOrder:o}},async created(){try{this.state.searchResults=await z.getLessons()}catch(e){this.error=e.message}}},A=n(89);const R=(0,A.Z)(L,[["render",T],["__scopeId","data-v-28e6206c"]]);var q=R,E={name:"App",components:{LessonComponent:q}};const U=(0,A.Z)(E,[["render",r]]);var F=U,J=n(5431);(0,J.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,o.ri)(F).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],r=e[u][2];for(var c=!0,i=0;i<o.length;i++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[i])}))?o.splice(i--,1):(c=!1,r<a&&(a=r));if(c){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,s,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,a=o[0],c=o[1],i=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in c)n.o(c,s)&&(n.m[s]=c[s]);if(i)var u=i(n)}for(t&&t(o);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6666)}));o=n.O(o)})();
//# sourceMappingURL=app.1c98ae2b.js.map